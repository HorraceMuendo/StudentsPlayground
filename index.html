<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentsPlayground</title>
</head>
<body>
    <h1 >Welcome on Board</h1>
    <input type="text" id="messageInput" placeholder="Enter a message">
    <button onclick="send()">Send</button>
    <div id="messages"></div>

    <Script>
        let socket = new WebSocket("ws://127.0.0.1:4300/ws");
            console.log("Attempting to connect to the webserver....");
        socket.onopen = () => {
            console.log("connection was a success!!!");
            //sending a message to the server
            socket.send("Hello there I'm connected ");
        };
        // client continuosly listens to server communications with the on message
        socket.onmessage = (event) => {
                //get and echo recieved message from the server
                const recievedMessage = document.getElementById("messages");
                //printng to the screen
                recievedMessage.innerHTML+= " <p> SERVER: " + event.data + "</p>"
                //log to the console
                console.log("SERVER: " + event.data);
        };
        socket.onclose = () =>{
            console.log("connection terminated");

        }
         //writing to the server
        function send() {
            const messageInput = document.getElementById("messageInput");
            socket.send(messageInput.value);
            messageInput.value= ""; // clear the input field
        }
       
    </Script>
</body>
</html>